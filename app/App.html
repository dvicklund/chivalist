<h1>Hello {name}!</h1>

{#if user.loggedIn}
	<a href="/logout">log out</a>
{/if}

{#if !user.loggedIn}
	<a href="/login">log in</a>
{/if}

{#await getReports}
	<p>Loading reports...</p>
{:then reports}
	<ul>
		{#each reports.data as report}
		<li>
			<h2>{report.title}</h2>
			<h3>submitted by {report.username}</h3>
			<p>{report.body}</p>
		</li>
		{/each}
	</ul>
{:catch error}
	<p>Something has gone wrong :( mybad</p>
{/await}

<Submit/>

<script>
	import Submit from './Submit.html'

	export default {
		components: { Submit }
	}
</script>
